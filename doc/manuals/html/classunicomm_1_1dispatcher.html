<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>unicomm::dispatcher Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classunicomm_1_1dispatcher.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classunicomm_1_1dispatcher-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">unicomm::dispatcher Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Unicomm communicator manager class.  
 <a href="classunicomm_1_1dispatcher.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="dispatcher_8hpp_source.html">dispatcher.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for unicomm::dispatcher:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classunicomm_1_1dispatcher.png" usemap="#unicomm::dispatcher_map" alt=""/>
  <map id="unicomm::dispatcher_map" name="unicomm::dispatcher_map">
<area href="classunicomm_1_1client.html" title="Unicomm client." alt="unicomm::client" shape="rect" coords="0,112,126,136"/>
<area href="classunicomm_1_1server.html" title="Unicomm server." alt="unicomm::server" shape="rect" coords="136,112,262,136"/>
</map>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa9487b2a08eb6e9c26bc1129866e240a"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="namespaceunicomm.html#a14ccc27f3dde17ef35278b61c91be679">comm_pointer_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#aa9487b2a08eb6e9c26bc1129866e240a">comm_ptr</a></td></tr>
<tr class="memdesc:aa9487b2a08eb6e9c26bc1129866e240a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Smart pointer to a communicator object.  <a href="#aa9487b2a08eb6e9c26bc1129866e240a"></a><br/></td></tr>
<tr class="separator:aa9487b2a08eb6e9c26bc1129866e240a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9512129b5b4389a5b07c1dcc58888d0"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="classunicomm_1_1comm__container.html">comm_container</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ac9512129b5b4389a5b07c1dcc58888d0">comm_container_type</a></td></tr>
<tr class="memdesc:ac9512129b5b4389a5b07c1dcc58888d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communicators container type.  <a href="#ac9512129b5b4389a5b07c1dcc58888d0"></a><br/></td></tr>
<tr class="separator:ac9512129b5b4389a5b07c1dcc58888d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8242485fb838ab8729d567cd5c2a4d58"><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
<a class="el" href="classunicomm_1_1comm__container.html#a03d4827b2cbc3260a9f379e56d428fc9">comm_container_type::comm_collection_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a8242485fb838ab8729d567cd5c2a4d58">comm_collection_type</a></td></tr>
<tr class="memdesc:a8242485fb838ab8729d567cd5c2a4d58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communicators collection type.  <a href="#a8242485fb838ab8729d567cd5c2a4d58"></a><br/></td></tr>
<tr class="separator:a8242485fb838ab8729d567cd5c2a4d58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c48b82df1da484813de0e1d4195ffa0"><td class="memItemLeft" align="right" valign="top">typedef <br class="typebreak"/>
<a class="el" href="classunicomm_1_1comm__container.html#aaae1ca582e904b4bd7ab56cd692fe6cb">comm_container_type::commid_collection_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a8c48b82df1da484813de0e1d4195ffa0">commid_collection_type</a></td></tr>
<tr class="memdesc:a8c48b82df1da484813de0e1d4195ffa0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communicator identifiers collection type.  <a href="#a8c48b82df1da484813de0e1d4195ffa0"></a><br/></td></tr>
<tr class="separator:a8c48b82df1da484813de0e1d4195ffa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad53a703b65de6eda9214e713944772b2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ad53a703b65de6eda9214e713944772b2">dispatcher</a> (const <a class="el" href="classunicomm_1_1config.html">unicomm::config</a> &amp;<a class="el" href="classunicomm_1_1config.html">config</a>)</td></tr>
<tr class="memdesc:ad53a703b65de6eda9214e713944772b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an instance of dispatcher.  <a href="#ad53a703b65de6eda9214e713944772b2"></a><br/></td></tr>
<tr class="separator:ad53a703b65de6eda9214e713944772b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a199183326d3f5566c2b56a54b73955b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a199183326d3f5566c2b56a54b73955b9">dispatcher</a> (const <a class="el" href="classunicomm_1_1config.html">unicomm::config</a> &amp;<a class="el" href="classunicomm_1_1config.html">config</a>, const boost::asio::ip::tcp::endpoint &amp;<a class="el" href="classunicomm_1_1dispatcher.html#abcc98f7e7e6b9375a6ec9b761d55794d">endpoint</a>)</td></tr>
<tr class="memdesc:a199183326d3f5566c2b56a54b73955b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructs an instance of dispatcher.  <a href="#a199183326d3f5566c2b56a54b73955b9"></a><br/></td></tr>
<tr class="separator:a199183326d3f5566c2b56a54b73955b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52ea99895975a2019246877bae490dac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a52ea99895975a2019246877bae490dac">run</a> (void)</td></tr>
<tr class="memdesc:a52ea99895975a2019246877bae490dac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main dispatcher's loop.  <a href="#a52ea99895975a2019246877bae490dac"></a><br/></td></tr>
<tr class="separator:a52ea99895975a2019246877bae490dac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562afa6317184a43604ce5f3065b0fb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a562afa6317184a43604ce5f3065b0fb4">reset</a> (void)</td></tr>
<tr class="memdesc:a562afa6317184a43604ce5f3065b0fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the dispatcher.  <a href="#a562afa6317184a43604ce5f3065b0fb4"></a><br/></td></tr>
<tr class="separator:a562afa6317184a43604ce5f3065b0fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823ac59627172ba536a60411a0cf2e32"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a823ac59627172ba536a60411a0cf2e32">stop</a> (const boost::posix_time::time_duration &amp;wait=<a class="el" href="namespaceunicomm.html#ac66e77b454c8aa82f89fe8c705f117c5">default_wait_on_stop</a>())</td></tr>
<tr class="memdesc:a823ac59627172ba536a60411a0cf2e32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops processing.  <a href="#a823ac59627172ba536a60411a0cf2e32"></a><br/></td></tr>
<tr class="separator:a823ac59627172ba536a60411a0cf2e32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15810d2dda7e1eec88eaa65ba8c64407"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a15810d2dda7e1eec88eaa65ba8c64407">started</a> (void) const </td></tr>
<tr class="memdesc:a15810d2dda7e1eec88eaa65ba8c64407"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether processing started.  <a href="#a15810d2dda7e1eec88eaa65ba8c64407"></a><br/></td></tr>
<tr class="separator:a15810d2dda7e1eec88eaa65ba8c64407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa51d8e71b11490c0f2e9da8efdd06b63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#aa51d8e71b11490c0f2e9da8efdd06b63">disconnect_one</a> (<a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a> id)</td></tr>
<tr class="memdesc:aa51d8e71b11490c0f2e9da8efdd06b63"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnects connection specified by the given identifier.  <a href="#aa51d8e71b11490c0f2e9da8efdd06b63"></a><br/></td></tr>
<tr class="separator:aa51d8e71b11490c0f2e9da8efdd06b63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad2d4a48535719ba208f39ede20732bc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#aad2d4a48535719ba208f39ede20732bc">disconnect_all</a> (void)</td></tr>
<tr class="memdesc:aad2d4a48535719ba208f39ede20732bc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Brakes all currently open connection if there are.  <a href="#aad2d4a48535719ba208f39ede20732bc"></a><br/></td></tr>
<tr class="separator:aad2d4a48535719ba208f39ede20732bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe9bca24bce4690e9a524acb4930e4e7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunicomm.html#ab6cf0f1b0325b68b202ab38de6ee89ca">messageid_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#afe9bca24bce4690e9a524acb4930e4e7">send_one</a> (<a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a> commid, const <a class="el" href="classunicomm_1_1message__base.html">message_base</a> &amp;message)</td></tr>
<tr class="memdesc:afe9bca24bce4690e9a524acb4930e4e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to the remote side of the connection with the given id.  <a href="#afe9bca24bce4690e9a524acb4930e4e7"></a><br/></td></tr>
<tr class="separator:afe9bca24bce4690e9a524acb4930e4e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e6f55d6e6ea51d4a13919c0086ceff6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunicomm.html#ab6cf0f1b0325b68b202ab38de6ee89ca">messageid_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a1e6f55d6e6ea51d4a13919c0086ceff6">send_one</a> (<a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a> commid, const <a class="el" href="classunicomm_1_1message__base.html">message_base</a> &amp;message, const <a class="el" href="namespaceunicomm.html#a3397b9a34815bb014a9f721c407a7841">message_sent_handler_type</a> &amp;handler)</td></tr>
<tr class="memdesc:a1e6f55d6e6ea51d4a13919c0086ceff6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to the remote side of the connection with the given id.  <a href="#a1e6f55d6e6ea51d4a13919c0086ceff6"></a><br/></td></tr>
<tr class="separator:a1e6f55d6e6ea51d4a13919c0086ceff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4aefc031533f4e18e22e5191658a43da"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunicomm.html#a623f6a9101385ef3091db615cfeb2262">full_messageid_map_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a4aefc031533f4e18e22e5191658a43da">send_all</a> (const <a class="el" href="classunicomm_1_1message__base.html">message_base</a> &amp;message)</td></tr>
<tr class="memdesc:a4aefc031533f4e18e22e5191658a43da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to the remote sides of all currently opened connections.  <a href="#a4aefc031533f4e18e22e5191658a43da"></a><br/></td></tr>
<tr class="separator:a4aefc031533f4e18e22e5191658a43da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ca3ca444ddfc63d078263a76af60b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceunicomm.html#a623f6a9101385ef3091db615cfeb2262">full_messageid_map_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ab9ca3ca444ddfc63d078263a76af60b6">send_all</a> (const <a class="el" href="classunicomm_1_1message__base.html">message_base</a> &amp;message, const <a class="el" href="namespaceunicomm.html#a3397b9a34815bb014a9f721c407a7841">message_sent_handler_type</a> &amp;handler)</td></tr>
<tr class="memdesc:ab9ca3ca444ddfc63d078263a76af60b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a message to the remote sides of all currently opened connections.  <a href="#ab9ca3ca444ddfc63d078263a76af60b6"></a><br/></td></tr>
<tr class="separator:ab9ca3ca444ddfc63d078263a76af60b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb1dcb1e8b22f79eba1e67e3576582fb"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::tcp::endpoint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#acb1dcb1e8b22f79eba1e67e3576582fb">remote_endpoint</a> (<a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a> commid) const </td></tr>
<tr class="memdesc:acb1dcb1e8b22f79eba1e67e3576582fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns remote endpoint that the communicator with given id is connected to.  <a href="#acb1dcb1e8b22f79eba1e67e3576582fb"></a><br/></td></tr>
<tr class="separator:acb1dcb1e8b22f79eba1e67e3576582fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4a9e1cea38a39c486c95fcfcb74974a"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::tcp::endpoint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#af4a9e1cea38a39c486c95fcfcb74974a">local_endpoint</a> (<a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a> commid) const </td></tr>
<tr class="memdesc:af4a9e1cea38a39c486c95fcfcb74974a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns local endpoint that the communicator with given id has.  <a href="#af4a9e1cea38a39c486c95fcfcb74974a"></a><br/></td></tr>
<tr class="separator:af4a9e1cea38a39c486c95fcfcb74974a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a765995d91d1ebc87de5ddc31d22869c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classunicomm_1_1dispatcher.html#a8c48b82df1da484813de0e1d4195ffa0">commid_collection_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a765995d91d1ebc87de5ddc31d22869c1">connections</a> (void) const </td></tr>
<tr class="memdesc:a765995d91d1ebc87de5ddc31d22869c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns an identifiers collection of currently connected communicators.  <a href="#a765995d91d1ebc87de5ddc31d22869c1"></a><br/></td></tr>
<tr class="separator:a765995d91d1ebc87de5ddc31d22869c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8c80d6f340807c3091a4a0fd5dd291b"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ab8c80d6f340807c3091a4a0fd5dd291b">connections_count</a> (void) const </td></tr>
<tr class="memdesc:ab8c80d6f340807c3091a4a0fd5dd291b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns current connections count.  <a href="#ab8c80d6f340807c3091a4a0fd5dd291b"></a><br/></td></tr>
<tr class="separator:ab8c80d6f340807c3091a4a0fd5dd291b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c8b1cd7ce9803956abf372f03a5ff8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ad5c8b1cd7ce9803956abf372f03a5ff8">set_after_all_processed_handler</a> (const <a class="el" href="namespaceunicomm.html#a5918e124615be2e694c3a09a5dd62625">after_all_processed_handler_type</a> &amp;handler)</td></tr>
<tr class="memdesc:ad5c8b1cd7ce9803956abf372f03a5ff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets after processed handler.  <a href="#ad5c8b1cd7ce9803956abf372f03a5ff8"></a><br/></td></tr>
<tr class="separator:ad5c8b1cd7ce9803956abf372f03a5ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a031745369669fa992f69cd7c47f275a7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a031745369669fa992f69cd7c47f275a7">clear_after_all_processed_handler</a> (void)</td></tr>
<tr class="memdesc:a031745369669fa992f69cd7c47f275a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears after all processed handler.  <a href="#a031745369669fa992f69cd7c47f275a7"></a><br/></td></tr>
<tr class="separator:a031745369669fa992f69cd7c47f275a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34ae7ca3b57f9338b9d82c2a17b0c32e"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classunicomm_1_1config.html">unicomm::config</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a34ae7ca3b57f9338b9d82c2a17b0c32e">config</a> (void) const </td></tr>
<tr class="memdesc:a34ae7ca3b57f9338b9d82c2a17b0c32e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns configuration object is held by the dispatcher.  <a href="#a34ae7ca3b57f9338b9d82c2a17b0c32e"></a><br/></td></tr>
<tr class="separator:a34ae7ca3b57f9338b9d82c2a17b0c32e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ef1b685116f72d18abe56bdbb819b23"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a5ef1b685116f72d18abe56bdbb819b23">kick_dispatcher</a> (void)</td></tr>
<tr class="memdesc:a5ef1b685116f72d18abe56bdbb819b23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wakes up one of the dispatcher's thread.  <a href="#a5ef1b685116f72d18abe56bdbb819b23"></a><br/></td></tr>
<tr class="separator:a5ef1b685116f72d18abe56bdbb819b23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ade89470091d92a49ded47f50fc8ecf8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ade89470091d92a49ded47f50fc8ecf8b">fork_prepare</a> (void)</td></tr>
<tr class="memdesc:ade89470091d92a49ded47f50fc8ecf8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares for fork.  <a href="#ade89470091d92a49ded47f50fc8ecf8b"></a><br/></td></tr>
<tr class="separator:ade89470091d92a49ded47f50fc8ecf8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae52f0067e550074e9ce8d2f44c86bcf3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ae52f0067e550074e9ce8d2f44c86bcf3">fork_parent</a> (void)</td></tr>
<tr class="memdesc:ae52f0067e550074e9ce8d2f44c86bcf3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs boost::asio::io_service::notify_fork(fork_parent).  <a href="#ae52f0067e550074e9ce8d2f44c86bcf3"></a><br/></td></tr>
<tr class="separator:ae52f0067e550074e9ce8d2f44c86bcf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e3a89fdf2f5b11322a95be032a9e6aa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a8e3a89fdf2f5b11322a95be032a9e6aa">fork_child</a> (void)</td></tr>
<tr class="memdesc:a8e3a89fdf2f5b11322a95be032a9e6aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs boost::asio::io_service::notify_fork(fork_child).  <a href="#a8e3a89fdf2f5b11322a95be032a9e6aa"></a><br/></td></tr>
<tr class="separator:a8e3a89fdf2f5b11322a95be032a9e6aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10933c5a30a353827f6537b61f75b475"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a10933c5a30a353827f6537b61f75b475">~dispatcher</a> (void)</td></tr>
<tr class="memdesc:a10933c5a30a353827f6537b61f75b475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stops dispatcher and destroys an object.  <a href="#a10933c5a30a353827f6537b61f75b475"></a><br/></td></tr>
<tr class="separator:a10933c5a30a353827f6537b61f75b475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:ac8374f204e83c303eb064ab152e3d84d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classunicomm_1_1dispatcher.html#aa9487b2a08eb6e9c26bc1129866e240a">comm_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ac8374f204e83c303eb064ab152e3d84d">comm</a> (<a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a> commid) const </td></tr>
<tr class="memdesc:ac8374f204e83c303eb064ab152e3d84d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves smart pointer to the internal communication object representing connection.  <a href="#ac8374f204e83c303eb064ab152e3d84d"></a><br/></td></tr>
<tr class="separator:ac8374f204e83c303eb064ab152e3d84d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76cfd718b8d44d245b1069e6be3c9aff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classunicomm_1_1comm__container.html#a03d4827b2cbc3260a9f379e56d428fc9">comm_container_type::comm_collection_type</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a76cfd718b8d44d245b1069e6be3c9aff">communicators</a> (void) const </td></tr>
<tr class="memdesc:a76cfd718b8d44d245b1069e6be3c9aff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves a copy of the communicators collection.  <a href="#a76cfd718b8d44d245b1069e6be3c9aff"></a><br/></td></tr>
<tr class="separator:a76cfd718b8d44d245b1069e6be3c9aff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc98f7e7e6b9375a6ec9b761d55794d"><td class="memItemLeft" align="right" valign="top">const <br class="typebreak"/>
boost::asio::ip::tcp::endpoint &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#abcc98f7e7e6b9375a6ec9b761d55794d">endpoint</a> (void) const </td></tr>
<tr class="memdesc:abcc98f7e7e6b9375a6ec9b761d55794d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a const reference to held endpoint initialized by constructor.  <a href="#abcc98f7e7e6b9375a6ec9b761d55794d"></a><br/></td></tr>
<tr class="separator:abcc98f7e7e6b9375a6ec9b761d55794d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec06d538e376652a8b3995d2e311adbb"><td class="memItemLeft" align="right" valign="top">boost::asio::ip::tcp::endpoint &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#aec06d538e376652a8b3995d2e311adbb">endpoint</a> (void)</td></tr>
<tr class="memdesc:aec06d538e376652a8b3995d2e311adbb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to held endpoint initialized by constructor.  <a href="#aec06d538e376652a8b3995d2e311adbb"></a><br/></td></tr>
<tr class="separator:aec06d538e376652a8b3995d2e311adbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2eb67890360e5d313a13456c1a3056a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#ac2eb67890360e5d313a13456c1a3056a">endpoint</a> (const boost::asio::ip::tcp::endpoint &amp;endpoint)</td></tr>
<tr class="memdesc:ac2eb67890360e5d313a13456c1a3056a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets internal endpoint object.  <a href="#ac2eb67890360e5d313a13456c1a3056a"></a><br/></td></tr>
<tr class="separator:ac2eb67890360e5d313a13456c1a3056a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44fd33dad4b23a7673ba23487f0bc943"><td class="memItemLeft" align="right" valign="top">boost::asio::io_service &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a44fd33dad4b23a7673ba23487f0bc943">ioservice</a> (void)</td></tr>
<tr class="memdesc:a44fd33dad4b23a7673ba23487f0bc943"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to boost asio io service object which connections are served by.  <a href="#a44fd33dad4b23a7673ba23487f0bc943"></a><br/></td></tr>
<tr class="separator:a44fd33dad4b23a7673ba23487f0bc943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd4f3ab6260ad996718e1448922b97cc"><td class="memItemLeft" align="right" valign="top">boost::asio::ssl::context &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#acd4f3ab6260ad996718e1448922b97cc">ssl_context</a> (void)</td></tr>
<tr class="memdesc:acd4f3ab6260ad996718e1448922b97cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a reference to boost asio ssl context object.  <a href="#acd4f3ab6260ad996718e1448922b97cc"></a><br/></td></tr>
<tr class="separator:acd4f3ab6260ad996718e1448922b97cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefee6a0a01551f0ad66b43fb59b666da"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#aefee6a0a01551f0ad66b43fb59b666da">insert_comm</a> (const <a class="el" href="classunicomm_1_1dispatcher.html#aa9487b2a08eb6e9c26bc1129866e240a">comm_ptr</a> &amp;<a class="el" href="classunicomm_1_1dispatcher.html#ac8374f204e83c303eb064ab152e3d84d">comm</a>)</td></tr>
<tr class="memdesc:aefee6a0a01551f0ad66b43fb59b666da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inserts communicator to the collection.  <a href="#aefee6a0a01551f0ad66b43fb59b666da"></a><br/></td></tr>
<tr class="separator:aefee6a0a01551f0ad66b43fb59b666da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d807baf3a2f5637f8fc9f11ee04a08a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a8d807baf3a2f5637f8fc9f11ee04a08a">handle_disconnected</a> (<a class="el" href="classunicomm_1_1communicator.html">communicator</a> &amp;<a class="el" href="classunicomm_1_1dispatcher.html#ac8374f204e83c303eb064ab152e3d84d">comm</a>, const boost::system::system_error &amp;reason)</td></tr>
<tr class="memdesc:a8d807baf3a2f5637f8fc9f11ee04a08a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles disconnect error.  <a href="#a8d807baf3a2f5637f8fc9f11ee04a08a"></a><br/></td></tr>
<tr class="separator:a8d807baf3a2f5637f8fc9f11ee04a08a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b962e117df7227995e8b6e7a6b12813"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a8b962e117df7227995e8b6e7a6b12813">handle_error</a> (const <a class="el" href="classunicomm_1_1communicator.html">communicator</a> &amp;<a class="el" href="classunicomm_1_1dispatcher.html#ac8374f204e83c303eb064ab152e3d84d">comm</a>, const std::string &amp;what)</td></tr>
<tr class="memdesc:a8b962e117df7227995e8b6e7a6b12813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handles any other error.  <a href="#a8b962e117df7227995e8b6e7a6b12813"></a><br/></td></tr>
<tr class="separator:a8b962e117df7227995e8b6e7a6b12813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bcec1c4db29d0aa46741ef365696385"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a8bcec1c4db29d0aa46741ef365696385"><td class="memTemplItemLeft" align="right" valign="top"><a class="el" href="classunicomm_1_1dispatcher.html#aa9487b2a08eb6e9c26bc1129866e240a">comm_ptr</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classunicomm_1_1dispatcher.html#a8bcec1c4db29d0aa46741ef365696385">create_comm</a> (void)</td></tr>
<tr class="memdesc:a8bcec1c4db29d0aa46741ef365696385"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a communicator of the specified type.  <a href="#a8bcec1c4db29d0aa46741ef365696385"></a><br/></td></tr>
<tr class="separator:a8bcec1c4db29d0aa46741ef365696385"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:ad21e8c6a43c2f8564db5eba34a025caf"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad21e8c6a43c2f8564db5eba34a025caf"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>communicator::fork_prepare</b> (void) const </td></tr>
<tr class="separator:ad21e8c6a43c2f8564db5eba34a025caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa43356c9efe6e1ee032cc1251842fc1d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa43356c9efe6e1ee032cc1251842fc1d"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>communicator::fork_parent</b> (void) const </td></tr>
<tr class="separator:aa43356c9efe6e1ee032cc1251842fc1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a861451e5dfc5fc8b4755cf5af50aa28e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a861451e5dfc5fc8b4755cf5af50aa28e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>communicator::fork_child</b> (void) const </td></tr>
<tr class="separator:a861451e5dfc5fc8b4755cf5af50aa28e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Unicomm communicator manager class. </p>
<p>Provides communicators collection management. This is base class for <a class="el" href="classunicomm_1_1server.html" title="Unicomm server.">unicomm::server</a> and <a class="el" href="classunicomm_1_1client.html" title="Unicomm client.">unicomm::client</a>.</p>
<dl class="section note"><dt>Note</dt><dd>By default the interface is thread safe. It's specified explicitly if it's not.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classunicomm_1_1client.html" title="Unicomm client.">unicomm::client</a>, <a class="el" href="classunicomm_1_1server.html" title="Unicomm server.">unicomm::server</a>. </dd></dl>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a8242485fb838ab8729d567cd5c2a4d58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classunicomm_1_1comm__container.html#a03d4827b2cbc3260a9f379e56d428fc9">comm_container_type::comm_collection_type</a> <a class="el" href="classunicomm_1_1dispatcher.html#a8242485fb838ab8729d567cd5c2a4d58">unicomm::dispatcher::comm_collection_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Communicators collection type. </p>

</div>
</div>
<a class="anchor" id="ac9512129b5b4389a5b07c1dcc58888d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classunicomm_1_1comm__container.html">comm_container</a> <a class="el" href="classunicomm_1_1dispatcher.html#ac9512129b5b4389a5b07c1dcc58888d0">unicomm::dispatcher::comm_container_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Communicators container type. </p>

</div>
</div>
<a class="anchor" id="aa9487b2a08eb6e9c26bc1129866e240a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="namespaceunicomm.html#a14ccc27f3dde17ef35278b61c91be679">comm_pointer_type</a> <a class="el" href="classunicomm_1_1dispatcher.html#aa9487b2a08eb6e9c26bc1129866e240a">unicomm::dispatcher::comm_ptr</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Smart pointer to a communicator object. </p>

</div>
</div>
<a class="anchor" id="a8c48b82df1da484813de0e1d4195ffa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="classunicomm_1_1comm__container.html#aaae1ca582e904b4bd7ab56cd692fe6cb">comm_container_type::commid_collection_type</a> <a class="el" href="classunicomm_1_1dispatcher.html#a8c48b82df1da484813de0e1d4195ffa0">unicomm::dispatcher::commid_collection_type</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Communicator identifiers collection type. </p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ad53a703b65de6eda9214e713944772b2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unicomm::dispatcher::dispatcher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classunicomm_1_1config.html">unicomm::config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructs an instance of dispatcher. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Configuration object. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The copy of config is held. </dd></dl>

</div>
</div>
<a class="anchor" id="a199183326d3f5566c2b56a54b73955b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unicomm::dispatcher::dispatcher </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classunicomm_1_1config.html">unicomm::config</a> &amp;&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::asio::ip::tcp::endpoint &amp;&#160;</td>
          <td class="paramname"><em>endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructs an instance of dispatcher. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">config</td><td>Configuration object. </td></tr>
    <tr><td class="paramname">endpoint</td><td>Ip-address and port to be used. Overrides specified by the configuration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The copy of config is held. </dd></dl>

</div>
</div>
<a class="anchor" id="a10933c5a30a353827f6537b61f75b475"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unicomm::dispatcher::~dispatcher </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stops dispatcher and destroys an object. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a031745369669fa992f69cd7c47f275a7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::clear_after_all_processed_handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clears after all processed handler. </p>

</div>
</div>
<a class="anchor" id="ac8374f204e83c303eb064ab152e3d84d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunicomm_1_1dispatcher.html#aa9487b2a08eb6e9c26bc1129866e240a">comm_ptr</a> unicomm::dispatcher::comm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a>&#160;</td>
          <td class="paramname"><em>commid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves smart pointer to the internal communication object representing connection. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commid</td><td>Communicator identifier.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classunicomm_1_1session__not__found.html" title="Session not found error.">unicomm::session_not_found</a></td><td>is thrown if there is no communicator found. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns pointer to communicator object representing a connection with given identifier.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Communicator can be disconnected while having reference to it.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd>unicomm::dispatcher::process_client(), unicomm::dispatcher::on_stop(), unicomm::dispatcher::extra_process(). </dd></dl>

</div>
</div>
<a class="anchor" id="a76cfd718b8d44d245b1069e6be3c9aff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunicomm_1_1comm__container.html#a03d4827b2cbc3260a9f379e56d428fc9">comm_container_type::comm_collection_type</a> unicomm::dispatcher::communicators </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves a copy of the communicators collection. </p>
<dl class="section return"><dt>Returns</dt><dd>Communicator objects collection. </dd></dl>

</div>
</div>
<a class="anchor" id="a34ae7ca3b57f9338b9d82c2a17b0c32e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classunicomm_1_1config.html">unicomm::config</a>&amp; unicomm::dispatcher::config </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns configuration object is held by the dispatcher. </p>
<p>Reference to the configuration object is passed to each newly created communicator.</p>
<dl class="section return"><dt>Returns</dt><dd>Reference to const configuration object. </dd></dl>

</div>
</div>
<a class="anchor" id="a765995d91d1ebc87de5ddc31d22869c1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunicomm_1_1dispatcher.html#a8c48b82df1da484813de0e1d4195ffa0">commid_collection_type</a> unicomm::dispatcher::connections </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns an identifiers collection of currently connected communicators. </p>
<p>Identifiers can be used with one of the <a class="el" href="classunicomm_1_1dispatcher.html#afe9bca24bce4690e9a524acb4930e4e7" title="Sends a message to the remote side of the connection with the given id.">unicomm::dispatcher::send_one()</a> or <a class="el" href="classunicomm_1_1dispatcher.html#aa51d8e71b11490c0f2e9da8efdd06b63" title="Disconnects connection specified by the given identifier.">unicomm::dispatcher::disconnect_one()</a> functions.</p>
<dl class="section return"><dt>Returns</dt><dd>An identifiers collection of currently connected communicators. </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Once identifier is got it can be used to manipulate certain connection, but note that identifier can become invalid due to connection can be broken by e.g. remote side. Disconnected handler is called in case of connection breaking. </dd></dl>

</div>
</div>
<a class="anchor" id="ab8c80d6f340807c3091a4a0fd5dd291b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t unicomm::dispatcher::connections_count </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns current connections count. </p>
<dl class="section return"><dt>Returns</dt><dd>Connections count currently served. </dd></dl>

</div>
</div>
<a class="anchor" id="a8bcec1c4db29d0aa46741ef365696385"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classunicomm_1_1dispatcher.html#aa9487b2a08eb6e9c26bc1129866e240a">comm_ptr</a> unicomm::dispatcher::create_comm </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a communicator of the specified type. </p>
<p>Creates communicator object derived from <a class="el" href="classunicomm_1_1communicator.html" title="TCP communication service.">unicomm::communicator</a>. Used by <a class="el" href="classunicomm_1_1dispatcher.html" title="Unicomm communicator manager class.">unicomm::dispatcher</a>'s derived classes.</p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">The</td><td>type of the communicator to be created. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Smart pointer to newly created communicator object. </dd></dl>

</div>
</div>
<a class="anchor" id="aad2d4a48535719ba208f39ede20732bc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::disconnect_all </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Brakes all currently open connection if there are. </p>

</div>
</div>
<a class="anchor" id="aa51d8e71b11490c0f2e9da8efdd06b63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::disconnect_one </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Disconnects connection specified by the given identifier. </p>
<p>This causes disconnected handler is called.</p>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">If</td><td>there is no connection found with given id throws <a class="el" href="classunicomm_1_1session__not__found.html" title="Session not found error.">unicomm::session_not_found</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>To track connections specify connected and disconnected event handlers.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classunicomm_1_1session__base.html#a1ada5f3f3bc53c7502b8a878e455a9b9" title="Connected handler.">unicomm::session_base::connected_handler()</a>, <a class="el" href="classunicomm_1_1session__base.html#a3b3a5607df49266e2979de9c82e84e80" title="Disconnected handler.">unicomm::session_base::disconnected_handler()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="abcc98f7e7e6b9375a6ec9b761d55794d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const boost::asio::ip::tcp::endpoint&amp; unicomm::dispatcher::endpoint </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a const reference to held endpoint initialized by constructor. </p>
<dl class="section return"><dt>Returns</dt><dd>A reference to endpoint stored by communicator manager. </dd></dl>

</div>
</div>
<a class="anchor" id="aec06d538e376652a8b3995d2e311adbb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::ip::tcp::endpoint&amp; unicomm::dispatcher::endpoint </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to held endpoint initialized by constructor. </p>
<dl class="section return"><dt>Returns</dt><dd>A reference to const endpoint stored by communicator manager. </dd></dl>

</div>
</div>
<a class="anchor" id="ac2eb67890360e5d313a13456c1a3056a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::endpoint </td>
          <td>(</td>
          <td class="paramtype">const boost::asio::ip::tcp::endpoint &amp;&#160;</td>
          <td class="paramname"><em>endpoint</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets internal endpoint object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">endpoint</td><td>Endpoint to store. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8e3a89fdf2f5b11322a95be032a9e6aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::fork_child </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs boost::asio::io_service::notify_fork(fork_child). </p>

</div>
</div>
<a class="anchor" id="ae52f0067e550074e9ce8d2f44c86bcf3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::fork_parent </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs boost::asio::io_service::notify_fork(fork_parent). </p>

</div>
</div>
<a class="anchor" id="ade89470091d92a49ded47f50fc8ecf8b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::fork_prepare </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares for fork. </p>
<p>Performs boost::asio::io_service::notify_fork(fork_prepare). Should be called before fork. </p>

</div>
</div>
<a class="anchor" id="a8d807baf3a2f5637f8fc9f11ee04a08a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::handle_disconnected </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classunicomm_1_1communicator.html">communicator</a> &amp;&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::system::system_error &amp;&#160;</td>
          <td class="paramname"><em>reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles disconnect error. </p>
<p>This actually handles disconnect if <a class="el" href="classunicomm_1_1disconnected__error.html" title="Disconnected error exception.">unicomm::disconnected_error</a> risen. It calls handlers and remove the communicator object from the collection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>Communicator to disconnect. </td></tr>
    <tr><td class="paramname">reason</td><td>The instance of boost::system::system_error. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8b962e117df7227995e8b6e7a6b12813"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::handle_error </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classunicomm_1_1communicator.html">communicator</a> &amp;&#160;</td>
          <td class="paramname"><em>comm</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>what</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handles any other error. </p>
<p>Actually calls corresponding handlers.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>Communicator that causes the error. </td></tr>
    <tr><td class="paramname">what</td><td>An encountered error description. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aefee6a0a01551f0ad66b43fb59b666da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::insert_comm </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classunicomm_1_1dispatcher.html#aa9487b2a08eb6e9c26bc1129866e240a">comm_ptr</a> &amp;&#160;</td>
          <td class="paramname"><em>comm</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Inserts communicator to the collection. </p>
<p>Adds a communicator to the processed collection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">comm</td><td>Communicator to be added. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a44fd33dad4b23a7673ba23487f0bc943"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::io_service&amp; unicomm::dispatcher::ioservice </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to boost asio io service object which connections are served by. </p>
<dl class="section return"><dt>Returns</dt><dd>Reference to boost asio io service object. </dd></dl>

</div>
</div>
<a class="anchor" id="a5ef1b685116f72d18abe56bdbb819b23"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::kick_dispatcher </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wakes up one of the dispatcher's thread. </p>

</div>
</div>
<a class="anchor" id="af4a9e1cea38a39c486c95fcfcb74974a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::ip::tcp::endpoint unicomm::dispatcher::local_endpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a>&#160;</td>
          <td class="paramname"><em>commid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns local endpoint that the communicator with given id has. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commid</td><td>Communication object identifier which local endpoint is regarded to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classunicomm_1_1session__not__found.html" title="Session not found error.">unicomm::session_not_found</a></td><td>is thrown if there is no communication object with given commid found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Local end point of the established connection. </dd></dl>

</div>
</div>
<a class="anchor" id="acb1dcb1e8b22f79eba1e67e3576582fb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::ip::tcp::endpoint unicomm::dispatcher::remote_endpoint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a>&#160;</td>
          <td class="paramname"><em>commid</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns remote endpoint that the communicator with given id is connected to. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commid</td><td>Communication object identifier which remote endpoint is regarded to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classunicomm_1_1session__not__found.html" title="Session not found error.">unicomm::session_not_found</a></td><td>is thrown if there is no communication object with given commid found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Remote end point of the established connection. </dd></dl>

</div>
</div>
<a class="anchor" id="a562afa6317184a43604ce5f3065b0fb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::reset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the dispatcher. </p>
<p>If <a class="el" href="classunicomm_1_1dispatcher.html#a823ac59627172ba536a60411a0cf2e32" title="Stops processing.">unicomm::dispatcher::stop()</a> is called <a class="el" href="classunicomm_1_1dispatcher.html#a52ea99895975a2019246877bae490dac" title="Main dispatcher&#39;s loop.">unicomm::dispatcher::run()</a> will return immediately until <a class="el" href="classunicomm_1_1dispatcher.html#a562afa6317184a43604ce5f3065b0fb4" title="Initializes the dispatcher.">unicomm::dispatcher::reset()</a> is called.</p>
<dl class="section note"><dt>Note</dt><dd>It's not necessary to call this after dispatcher construction. </dd></dl>

</div>
</div>
<a class="anchor" id="a52ea99895975a2019246877bae490dac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::run </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main dispatcher's loop. </p>
<p>Can be called from within different threads. Threads execute boost::io_service::run(). If there is a data for unicomm to process one of the waited thread is woken up and takes up one of the connections (communicators) that having data to process.</p>
<p>Each instance of the <a class="el" href="classunicomm_1_1communicator.html" title="TCP communication service.">unicomm::communicator</a> is only occupied by only one thread at a time. It means different connections are processed in parallel by different threads but each connection is processed by single thread. Connections are picked up by threads accordingly to concurrency rules, i.e. race conditions. </p>

</div>
</div>
<a class="anchor" id="a4aefc031533f4e18e22e5191658a43da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunicomm.html#a623f6a9101385ef3091db615cfeb2262">full_messageid_map_type</a> unicomm::dispatcher::send_all </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classunicomm_1_1message__base.html">message_base</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message to the remote sides of all currently opened connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Message to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="namespaceunicomm.html#a623f6a9101385ef3091db615cfeb2262" title="Used by unicomm::dispatcher::send_all() to identify messages were sent to each client.">unicomm::full_messageid_map_type</a> contains connection identifier mapped to message identifier to be sent to other side. Take a look at <a class="el" href="classunicomm_1_1message__base.html#a99b0cc1920dec3cc6844003aab33fb65" title="Returns message instance identifier.">unicomm::message_base::id()</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Message is pushed to communicator's outgoing queue and dispatcher is signaled to send message as soon as possible. So, if communicator is disconnected before dispatcher process it's outgoing queue the message won't be sent. Track such situation using disconnected and message sent events.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="namespaceunicomm.html#a3397b9a34815bb014a9f721c407a7841" title="Message is actually sent handler type.">unicomm::message_sent_handler_type</a>, <a class="el" href="classunicomm_1_1session__base.html#abc5101807be9da2c8c82897b7b4946c7" title="Message is actually sent handler.">unicomm::session_base::message_sent_handler()</a>, <a class="el" href="namespaceunicomm.html#a623f6a9101385ef3091db615cfeb2262" title="Used by unicomm::dispatcher::send_all() to identify messages were sent to each client.">unicomm::full_messageid_map_type</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ab9ca3ca444ddfc63d078263a76af60b6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunicomm.html#a623f6a9101385ef3091db615cfeb2262">full_messageid_map_type</a> unicomm::dispatcher::send_all </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classunicomm_1_1message__base.html">message_base</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceunicomm.html#a3397b9a34815bb014a9f721c407a7841">message_sent_handler_type</a> &amp;&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message to the remote sides of all currently opened connections. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">message</td><td>Message to be sent. </td></tr>
    <tr><td class="paramname">handler</td><td>Handler to be called when the message is actually sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="namespaceunicomm.html#a623f6a9101385ef3091db615cfeb2262" title="Used by unicomm::dispatcher::send_all() to identify messages were sent to each client.">unicomm::full_messageid_map_type</a> contains connection identifier mapped to message identifier to be sent to other side. Take a look at <a class="el" href="classunicomm_1_1message__base.html#a99b0cc1920dec3cc6844003aab33fb65" title="Returns message instance identifier.">unicomm::message_base::id()</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Message is pushed to communicator's outgoing queue and dispatcher is signaled to send message as soon as possible. So, if communicator is disconnected before dispatcher process it's outgoing queue the message won't be sent. Track such situation using disconnected and message sent events.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="namespaceunicomm.html#a3397b9a34815bb014a9f721c407a7841" title="Message is actually sent handler type.">unicomm::message_sent_handler_type</a>, <a class="el" href="classunicomm_1_1session__base.html#abc5101807be9da2c8c82897b7b4946c7" title="Message is actually sent handler.">unicomm::session_base::message_sent_handler()</a>, <a class="el" href="namespaceunicomm.html#a623f6a9101385ef3091db615cfeb2262" title="Used by unicomm::dispatcher::send_all() to identify messages were sent to each client.">unicomm::full_messageid_map_type</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="afe9bca24bce4690e9a524acb4930e4e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunicomm.html#ab6cf0f1b0325b68b202ab38de6ee89ca">messageid_type</a> unicomm::dispatcher::send_one </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a>&#160;</td>
          <td class="paramname"><em>commid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classunicomm_1_1message__base.html">message_base</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message to the remote side of the connection with the given id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commid</td><td>Connection identifier which the remote side of message should be sent to.</td></tr>
    <tr><td class="paramname">message</td><td>Message to be sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns message identifier assigned to message by unicomm engine or by user. Take a look at <a class="el" href="classunicomm_1_1message__base.html#a99b0cc1920dec3cc6844003aab33fb65" title="Returns message instance identifier.">unicomm::message_base::id()</a>. Returned message identifier is passed to message sent handler and message timeout handler.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classunicomm_1_1session__not__found.html" title="Session not found error.">unicomm::session_not_found</a></td><td>is thrown, if there is no such communicator found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Message is pushed to communicator's outgoing queue and dispatcher is signaled to send message as soon as possible. So, if communicator is disconnected before dispatcher process it's outgoing queue the message won't be sent. Track such situation using disconnected and message sent events.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classunicomm_1_1session__base.html#abc5101807be9da2c8c82897b7b4946c7" title="Message is actually sent handler.">unicomm::session_base::message_sent_handler()</a>, <a class="el" href="namespaceunicomm.html#a3397b9a34815bb014a9f721c407a7841" title="Message is actually sent handler type.">unicomm::message_sent_handler_type</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="a1e6f55d6e6ea51d4a13919c0086ceff6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceunicomm.html#ab6cf0f1b0325b68b202ab38de6ee89ca">messageid_type</a> unicomm::dispatcher::send_one </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceunicomm.html#a4bc96633ebfdea4036015f775b4c74ba">commid_type</a>&#160;</td>
          <td class="paramname"><em>commid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classunicomm_1_1message__base.html">message_base</a> &amp;&#160;</td>
          <td class="paramname"><em>message</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceunicomm.html#a3397b9a34815bb014a9f721c407a7841">message_sent_handler_type</a> &amp;&#160;</td>
          <td class="paramname"><em>handler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a message to the remote side of the connection with the given id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">commid</td><td>Connection identifier which the remote side of message should be sent to.</td></tr>
    <tr><td class="paramname">message</td><td>Message to be sent. </td></tr>
    <tr><td class="paramname">handler</td><td>Handler to be called when the message is actually sent. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns message identifier assigned to message by unicomm engine or by user. Take a look at <a class="el" href="classunicomm_1_1message__base.html#a99b0cc1920dec3cc6844003aab33fb65" title="Returns message instance identifier.">unicomm::message_base::id()</a>. Returned message identifier is passed to message sent handler and message timeout handler.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname"><a class="el" href="classunicomm_1_1session__not__found.html" title="Session not found error.">unicomm::session_not_found</a></td><td>is thrown, if there is no such connection found.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Message is pushed to communicator's outgoing queue and dispatcher is signaled to send message as soon as possible. So, if communicator is disconnected before dispatcher process it's outgoing queue the message won't be sent. Track such situation using disconnected and message sent events.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classunicomm_1_1session__base.html#abc5101807be9da2c8c82897b7b4946c7" title="Message is actually sent handler.">unicomm::session_base::message_sent_handler()</a>, <a class="el" href="namespaceunicomm.html#a3397b9a34815bb014a9f721c407a7841" title="Message is actually sent handler type.">unicomm::message_sent_handler_type</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="ad5c8b1cd7ce9803956abf372f03a5ff8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void unicomm::dispatcher::set_after_all_processed_handler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceunicomm.html#a5918e124615be2e694c3a09a5dd62625">after_all_processed_handler_type</a> &amp;&#160;</td>
          <td class="paramname"><em>handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets after processed handler. </p>
<p>This handler is called after all communication objects are processed on current iteration.</p>
<p>Any exception thrown from this handler is caught and assert issued in debug.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>After all communicators processed handler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>This will be called anyway even if exception occur in any other handlers that allowed exception. This is the last called handler on current iteration.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classunicomm_1_1config.html#aa6d08417b848fe225e38b825cc9ea773" title="Returns unicomm working thread sleep timeout.">unicomm::config::dispatcher_idle_tout()</a>. </dd></dl>

</div>
</div>
<a class="anchor" id="acd4f3ab6260ad996718e1448922b97cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::ssl::context&amp; unicomm::dispatcher::ssl_context </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a reference to boost asio ssl context object. </p>
<dl class="section return"><dt>Returns</dt><dd>A reference to boost asio ssl context object. </dd></dl>

</div>
</div>
<a class="anchor" id="a15810d2dda7e1eec88eaa65ba8c64407"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool unicomm::dispatcher::started </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether processing started. </p>
<dl class="section return"><dt>Returns</dt><dd>True if message processing is started and false instead. </dd></dl>

</div>
</div>
<a class="anchor" id="a823ac59627172ba536a60411a0cf2e32"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool unicomm::dispatcher::stop </td>
          <td>(</td>
          <td class="paramtype">const boost::posix_time::time_duration &amp;&#160;</td>
          <td class="paramname"><em>wait</em> = <code><a class="el" href="namespaceunicomm.html#ac66e77b454c8aa82f89fe8c705f117c5">default_wait_on_stop</a>()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stops processing. </p>
<p>It also breakes all opened connections. After stop returns there are no connections should left.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wait</td><td>Designates how long stop caller thread waits until all the connections are disconnected.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns true if threads completed before wait timeout elapses or threads are NOT started. Returns false, if timeout is elapsed and threads are not finished yet.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><b>IMPORTANT!</b> Do not call this from within session handlers.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="namespaceunicomm.html#ac66e77b454c8aa82f89fe8c705f117c5" title="Default wait on stop value.">unicomm::default_wait_on_stop()</a>. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/work/libs/1stlibs/unicomm.develop/include/unicomm/<a class="el" href="dispatcher_8hpp_source.html">dispatcher.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceunicomm.html">unicomm</a></li><li class="navelem"><a class="el" href="classunicomm_1_1dispatcher.html">dispatcher</a></li>
    <li class="footer">Generated on Sat Jun 1 2013 01:38:55 by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
